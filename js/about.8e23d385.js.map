{"version":3,"file":"js/about.8e23d385.js","mappings":"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","sources":["webpack://howshonginn/./src/components/BreadCrumbComponent.vue","webpack://howshonginn/./src/components/BreadCrumbComponent.vue?2b34","webpack://howshonginn/./src/components/CardMarkedComponent.vue","webpack://howshonginn/./src/components/CardMarkedComponent.vue?f108","webpack://howshonginn/./src/components/LoadingNormalComponent.vue","webpack://howshonginn/./src/components/LoadingNormalComponent.vue?3d58","webpack://howshonginn/./src/components/ListFilterComponent.vue","webpack://howshonginn/./src/components/ListFilterComponent.vue?8872","webpack://howshonginn/./src/views/ListView.vue","webpack://howshonginn/./src/views/ListView.vue?c025"],"sourcesContent":["<template>\n  <ul class=\"flex gap-x-2\">\n    <li\n      :class=\"{\n        'before:mr-2 before:text-black before:content-[>] ': index > 0,\n      }\"\n      v-for=\"(item, index) of breadcrumb\"\n      :key=\"item.name\"\n    >\n      <router-link :to=\"item.link\" v-if=\"item.link\" class=\"text-primary-dark\">{{\n        item.name\n      }}</router-link>\n      <span v-else>{{ item.name }}</span>\n    </li>\n  </ul>\n</template>\n<script setup>\nimport { useRoute } from \"vue-router\";\nimport { ref, onMounted } from \"vue\";\n\nconst route = useRoute();\n\nconst breadcrumb = ref([]);\n\nonMounted(() => {\n  breadcrumb.value = [...route.meta.breadcrumb];\n});\n</script>\n","import script from \"./BreadCrumbComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BreadCrumbComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <Transition appear>\n    <div\n      class=\"backface-hidden group relative h-full cursor-pointer overflow-hidden rounded shadow-[1px_1px_0_1px_#777] ring-1 ring-content-light duration-300 after:absolute after:bottom-0 after:z-1 after:h-full after:w-1/4 after:skew-x-[35deg] after:bg-gradient-to-l after:from-white/[0.1] after:via-white/[0.4] after:to-white/[0.1] after:opacity-0 hover:after:animate-twinkle hover:after:opacity-40\"\n      @click=\"router.push({ path: '/info', query: { id: cardInfo.id } })\"\n    >\n      <a\n        href=\"#\"\n        @click.prevent.stop=\"store.toggleFavorite(cardInfo.id)\"\n        class=\"absolute left-4 top-4 z-10 text-2xl text-danger-dark md:text-xl\"\n      >\n        <font-awesome-icon\n          :icon=\"[\n            store.userInfo.status &&\n            store.userInfo.favorite.indexOf(cardInfo.id) > -1\n              ? 'fa-solid'\n              : 'fa-regular',\n            'fa-heart',\n          ]\"\n          class=\"duration-300 hover:scale-125\"\n      /></a>\n      <div class=\"h-52 overflow-hidden md:h-72 relative\">\n        <img\n          ref=\"image\"\n          :src=\"\n            cardInfo.image[0].includes('imgur.com')\n              ? cardInfo.image[0]\n              : require('../assets/image/' + cardInfo.image[0])\n          \"\n          :alt=\"name\"\n          :class=\"[\n            'h-full w-full object-cover object-bottom duration-500',\n            imageLoaded ? 'opacity-100' : 'opacity-0',\n          ]\"\n        />\n        <img\n          src=\"placeholder.jpg\"\n          alt=\"Loading...\"\n          :class=\"['h-full w-full object-cover blur-xl absolute inset-0 duration-500',imageLoaded ? 'opacity-0' : 'opacity-100']\"\n        />\n        <div\n          :class=\"[\n            'absolute right-9 top-6 z-5 flex h-8 w-[160px] origin-center translate-x-1/2 rotate-45 select-none items-center justify-center border-t-2 border-b-2 border-white text-sm tracking-[8px] text-white',\n            'bg-' + mark.color,\n          ]\"\n          v-if=\"mark\"\n        >\n          {{ mark.title }}\n        </div>\n      </div>\n      <div class=\"bg-white p-4 text-center md:px-6 md:text-left\">\n        <h4 class=\"mb-1 text-primary-dark md:mb-3\">\n          <font-awesome-icon icon=\"fa-solid fa-location-dot\" class=\"mr-2\" />{{\n            cardInfo.county\n          }}\n        </h4>\n        <h3\n          class=\"overflow-hidden text-ellipsis whitespace-nowrap tracking-wide md:text-lg\"\n          :title=\"name\"\n        >\n          {{ name }}\n        </h3>\n      </div>\n    </div>\n  </Transition>\n</template>\n<script setup>\nimport { ref, computed, toRefs, onMounted } from 'vue';\nimport router from '@/router';\nimport { useStore } from '@/stores/index';\n\nconst store = useStore();\nconst props = defineProps({\n  cardInfo: Object,\n  delay: {\n    type: Number,\n    default: 1,\n  },\n});\n\nconst { cardInfo, delay } = toRefs(props);\nconst image = ref(null);\nconst imageLoaded = ref(false);\nconst name = computed(() =>\n  cardInfo.value.name.slice(cardInfo.value.name.indexOf(' ') + 1)\n);\n\nconst mark = computed(() => {\n  if (cardInfo.value.favorite > 700) {\n    return { color: 'danger-dark', title: '熱門' };\n  } else if (cardInfo.value.tags.length > 6) {\n    return { color: 'sky-600', title: '超多特色' };\n  } else {\n    const now = new Date();\n    const createTime = new Date(cardInfo.value.createTime);\n    const time = now.getTime() - createTime.getTime();\n    // 7 天內新增的\n    if (time / 1000 / 60 / 60 / 24 < 7) {\n      return { color: 'secondary-dark', title: '最近新增' };\n    }\n  }\n  return null;\n});\n\nconst transitionDelay = computed(() => delay.value + 's');\n\nonMounted(() => {\n  image.value.onload = () => (imageLoaded.value = true);\n});\n</script>\n<style>\n.v-enter-active,\n.v-leave-active {\n  transition: transform 0.5s v-bind('transitionDelay') ease;\n}\n\n.v-enter-from,\n.v-leave-to {\n  transform: rotateY(180deg);\n}\n</style>\n","import script from \"./CardMarkedComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CardMarkedComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CardMarkedComponent.vue?vue&type=style&index=0&id=02ed916e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"flex h-[90vh] flex-col items-center justify-center\">\n    <ul class=\"relative mb-2 h-12 w-12\">\n      <li\n        class=\"animate-bigger absolute top-0 left-1/2 h-2 w-2 -translate-x-1/2 rounded-full bg-primary-dark\"\n      ></li>\n      <li\n        class=\"animate-bigger absolute top-1/4 right-1/4 h-2 w-2 -translate-y-3/4 translate-x-3/4 rounded-full bg-primary-dark\" style=\"animation-delay: 0.125s\"\n      ></li>\n      <li\n        class=\"animate-bigger absolute top-1/2 right-0 h-2 w-2 -translate-y-1/2 rounded-full bg-primary-dark\" style=\"animation-delay: 0.25s\"\n      ></li>\n      <li\n        class=\"animate-bigger absolute bottom-1/4 right-1/4 h-2 w-2 translate-x-3/4 translate-y-3/4 rounded-full bg-primary-dark\" style=\"animation-delay: 0.375s\"\n      ></li>\n      <li\n        class=\"animate-bigger absolute bottom-0 left-1/2 h-2 w-2 -translate-x-1/2 rounded-full bg-primary-dark\" style=\"animation-delay: 0.5s\"\n      ></li>\n      <li\n        class=\"animate-bigger absolute bottom-1/4 left-1/4 h-2 w-2 -translate-x-3/4 translate-y-3/4 rounded-full bg-primary-dark\" style=\"animation-delay: 0.625s\"\n      ></li>\n      <li\n        class=\"animate-bigger absolute top-1/2 left-0 h-2 w-2 -translate-y-1/2 rounded-full bg-primary-dark\" style=\"animation-delay: 0.75s\"\n      ></li>\n      <li\n        class=\"animate-bigger absolute top-1/4 left-1/4 h-2 w-2 -translate-x-3/4 -translate-y-3/4 rounded-full bg-primary-dark\" style=\"animation-delay: 0.875s\"\n      ></li>\n    </ul>\n    <h3 class=\"text-center text-3xl font-bold text-primary-dark\">\n      努力載入中...\n    </h3>\n  </div>\n</template>\n","import { render } from \"./LoadingNormalComponent.vue?vue&type=template&id=26fb8ebf\"\nconst script = {}\n\nimport exportComponent from \"C:\\\\Users\\\\yochi\\\\Desktop\\\\howshonginn\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <!-- 手機版篩選鈕 -->\n  <label\n    for=\"filterController\"\n    :class=\"[\n      'fixed right-4 z-10 flex h-12 w-12 cursor-pointer select-none items-center justify-center rounded-full border border-primary-dark bg-gray-300 duration-500 lg:hidden',\n      scrollStatus === 'top' ? 'bottom-4' : 'bottom-[4.5rem]',\n    ]\"\n    ><font-awesome-icon icon=\"fa-solid fa-filter\" class=\"text-primary-dark\"\n  /></label>\n  <input\n    type=\"checkbox\"\n    id=\"filterController\"\n    class=\"peer hidden\"\n    v-model=\"filterStatus\"\n  />\n  <!-- Filter Bar -->\n  <div\n    class=\"fixed top-1/2 left-1/2 z-50 hidden max-h-[95vh] min-w-[80%] -translate-x-1/2 -translate-y-1/2 overflow-hidden rounded-lg border border-primary-dark bg-white peer-checked:block lg:static lg:z-0 lg:block lg:max-h-max lg:translate-x-0 lg:translate-y-0\"\n  >\n    <h2\n      class=\"border-b border-b-primary-dark py-2 pb-2 text-center text-xl font-bold text-primary-dark\"\n    >\n      <font-awesome-icon icon=\"fa-solid fa-filter\" class=\"mr-2\" />條件篩選\n    </h2>\n    <span\n      class=\"absolute right-3 top-3 cursor-pointer lg:hidden\"\n      @click=\"filterStatus = false\"\n      ><font-awesome-icon icon=\"fa-solid fa-xmark\"\n    /></span>\n    <div\n      class=\"max-h-[calc(95vh-111px)] overflow-y-auto overflow-x-hidden px-4 py-6 lg:max-h-max\"\n    >\n      <div class=\"mb-4 border-b border-b-primary-dark pb-4\">\n        <h3 class=\"mb-4 border-l-4 border-l-primary-dark pl-2 text-lg\">縣市</h3>\n        <div class=\"mb-3 flex gap-x-2\">\n          <select\n            name=\"county\"\n            id=\"county\"\n            class=\"flex-grow rounded border border-black bg-white py-1 text-center focus:outline-primary-dark\"\n            v-model=\"filterItem.countySelect\"\n          >\n            <option value=\"\" selected disabled>--- 縣市 ---</option>\n            <option\n              :value=\"index\"\n              v-for=\"(county, index) of countyCity\"\n              :key=\"county.CityName\"\n            >\n              {{ county.CityName }}\n            </option>\n          </select>\n          <select\n            name=\"town\"\n            id=\"town\"\n            class=\"flex-grow rounded border border-black bg-white py-1 text-center focus:outline-primary-dark\"\n            ref=\"town\"\n            v-model=\"filterItem.townSelect\"\n            :disabled=\"filterItem.countySelect === ''\"\n          >\n            <option value=\"\" selected disabled>--- 鄉鎮區 ---</option>\n            <option\n              :value=\"town.AreaName\"\n              v-for=\"town of townList\"\n              :key=\"town.AreaName\"\n            >\n              {{ town.AreaName }}\n            </option>\n          </select>\n        </div>\n        <span class=\"mb-3 block text-center text-primary-dark\">或者</span>\n        <h3 class=\"mb-4 border-l-4 border-l-primary-dark pl-2 text-lg\">地區</h3>\n        <ul class=\"-mx-1 flex flex-wrap gap-y-2\">\n          <li\n            class=\"w-1/2 px-1\"\n            v-for=\"area of filterItem.areaList\"\n            :key=\"area.area\"\n          >\n            <a\n              href=\"#\"\n              :class=\"[\n                'block rounded-lg border py-1 text-center duration-300 hover:border-primary hover:bg-primary hover:text-white',\n                area.selected\n                  ? 'border-primary-dark bg-primary-dark text-white'\n                  : 'border-black',\n              ]\"\n              @click.prevent=\"areaSelect(area)\"\n              >{{ area.area }}</a\n            >\n          </li>\n        </ul>\n      </div>\n      <div>\n        <div class=\"mb-4 flex items-center justify-between\">\n          <h3 class=\"border-l-4 border-l-primary-dark pl-2 text-lg\">標籤</h3>\n          <div class=\"flex items-center\">\n            <input\n              type=\"checkbox\"\n              class=\"peer hidden\"\n              id=\"modeSwitcher\"\n              v-model=\"filterItem.tagFilterMode\"\n            />\n            <label\n              for=\"modeSwitcher\"\n              class=\"mr-2 inline-block h-5 w-10 cursor-pointer rounded-huge bg-primary-light shadow-inner shadow-primary-dark ring-1 ring-primary duration-300 peer-checked:bg-secondary-light peer-checked:shadow-secondary-dark peer-checked:ring-secondary\"\n            >\n              <span\n                :class=\"[\n                  'inline-block h-5 w-5 rounded-full duration-300',\n                  filterItem.tagFilterMode\n                    ? 'ml-5 bg-secondary-dark'\n                    : 'bg-primary-dark',\n                ]\"\n              ></span>\n            </label>\n            <!-- 點擊不做動作，只是要 stopPropagation 而已 -->\n            <label\n              class=\"relative flex h-4 w-4 cursor-pointer select-none items-center justify-center rounded-full bg-gray-200 text-sm text-gray-600 ring-1 ring-black\"\n              for=\"filterModeDirection\"\n              @click.stop=\"\"\n            >\n              <font-awesome-icon icon=\"fa-solid fa-question\" />\n              <input\n                type=\"checkbox\"\n                id=\"filterModeDirection\"\n                class=\"peer hidden\"\n                v-model=\"filterModeDirection\"\n              />\n              <div\n                class=\"invisible absolute right-0 -bottom-2 z-1 w-[220px] translate-y-full rounded-lg border border-primary-dark bg-primary-light p-2 text-base opacity-0 shadow duration-300 peer-checked:visible peer-checked:opacity-100 md:p-4\"\n              >\n                <p class=\"mb-4 text-primary-dark\">\n                  一般模式：只需符合任意一個選擇標籤。\n                </p>\n                <p class=\"text-secondary-dark\">\n                  嚴格模式：須符合所有選擇標籤。\n                </p>\n              </div>\n            </label>\n          </div>\n        </div>\n        <ul class=\"flex flex-wrap gap-x-2 gap-y-2\">\n          <li v-for=\"tags of filterItem.tagList\" :key=\"tags.tag\">\n            <a\n              href=\"#\"\n              :class=\"[\n                'block rounded-xl border py-px px-2  hover:border-primary hover:bg-primary hover:text-white',\n                tags.selected\n                  ? 'border-primary-dark bg-primary-dark text-white'\n                  : 'border-content text-content',\n              ]\"\n              @click.prevent=\"tags.selected = !tags.selected\"\n              >#{{ tags.tag }}</a\n            >\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class=\"-mx-1 flex justify-between border-t border-t-primary-dark p-4\">\n      <div class=\"w-1/2 px-1\">\n        <a\n          href=\"#\"\n          class=\"btn btn-danger w-full text-center\"\n          @click.prevent=\"clearFilter\"\n          >重置</a\n        >\n      </div>\n      <div class=\"w-1/2 px-1\">\n        <a\n          href=\"#\"\n          class=\"btn btn-primary w-full text-center\"\n          @click.prevent=\"filterSubmit\"\n          >確認</a\n        >\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { onMounted, ref, watch, computed, inject } from 'vue';\nimport { useStore } from '@/stores/index';\nimport router from \"@/router\";\nimport axios from 'axios';\n\nconst emits = defineEmits(['filterParameter']);\nconst store = useStore();\nconst countyCity = ref({}); //全台區域資料\nconst filterStatus = ref(false); //filter 是否顯示\nconst filterModeDirection = ref(false); // 標籤篩選模式說明是否顯示\nconst scrollStatus = inject('scrollStatus');\nconst filterItem = ref({\n  countySelect: '', //縣市選擇項目\n  townSelect: '', //鄉鎮選擇項目\n  areaList: [\n    {\n      area: '北部',\n      selected: false,\n    },\n    {\n      area: '中部',\n      selected: false,\n    },\n    {\n      area: '南部',\n      selected: false,\n    },\n    {\n      area: '東部',\n      selected: false,\n    },\n    {\n      area: '離島',\n      selected: false,\n    },\n  ],\n  tagList: [],\n  tagFilterMode: false, //標籤篩選模式，false 為一般模式\n});\n// 暴露方法讓父元件可以呼叫\ndefineExpose({\n  clearFilter,\n});\n\nfunction filterSubmit() {\n  store.toggleFilterMode('filter');\n  router.replace({query: null});\n  let filterParameter = {};\n  if (filterItem.value.countySelect !== '') {\n    // 下拉選單\n    let filterArea = countyCity.value[filterItem.value.countySelect].CityName;\n    filterItem.value.townSelect !== ''\n      ? (filterArea += filterItem.value.townSelect)\n      : null;\n\n    filterParameter.filterArea = filterArea;\n  } else {\n    // 區域選擇\n    const area = {\n      北部: ['臺北', '新北', '基隆', '桃園', '新竹', '宜蘭'],\n      中部: ['苗栗', '臺中', '彰化', '南投', '雲林'],\n      南部: ['嘉義', '臺南', '高雄', '屏東'],\n      東部: ['花蓮', '臺東'],\n      離島: ['連江', '金門', '澎湖'],\n    };\n\n    // 篩選出所選區域的縣市\n    filterParameter.filterArea = filterItem.value.areaList.reduce(\n      (acc, cur) => {\n        if (cur.selected) {\n          return [...acc, ...area[cur.area]];\n        } else {\n          return acc;\n        }\n      },\n      []\n    );\n  }\n\n  let filterTag = filterItem.value.tagList.filter(item => item.selected).map(ele => ele.tag) ;\n  filterParameter.filterTag = filterTag;\n  filterParameter.tagFilterMode = filterItem.value.tagFilterMode;\n  emits('filterParameter', filterParameter);\n  filterStatus.value = false;\n}\n\n// 選擇區域則清空下拉式選單\nfunction areaSelect(area) {\n  if (filterItem.value.countySelect !== '') filterItem.value.countySelect = '';\n  area.selected = !area.selected;\n}\n\nfunction clearFilter() {\n  filterItem.value.countySelect = '';\n  for (let item of filterItem.value.areaList) {\n    item.selected = false;\n  }\n  for (let item of filterItem.value.tagList) {\n    item.selected = false;\n  }\n}\n\n// 縣市下拉選單\nconst townList = computed(\n  () => Array.from(countyCity.value)[filterItem.value.countySelect]?.AreaList\n);\n\n// 監聽全部用 deep，只監聽其中一樣先 computed\nconst countySelect = computed(() => filterItem.value.countySelect);\nwatch(countySelect, (newV) => {\n  // 清空時為 \"\"(string)，選擇時為 number\n  if (typeof newV !== 'string') {\n    for (let item of filterItem.value.areaList) {\n      item.selected = false;\n    }\n  }\n  filterItem.value.townSelect = '';\n});\n\n// 點擊區域外關閉\nwatch(filterModeDirection, (newV) => {\n  if (newV) {\n    document.body.addEventListener('click', closeDirection);\n  } else {\n    document.body.removeEventListener('click', closeDirection);\n  }\n});\n\n// 遮罩\nwatch(filterStatus, (newV) => {\n  store.toggleMask(newV, true, true);\n});\n\n// 不能寫在 watch 裡面，每次 watch 執行會重新宣告一次 function，會被判定跟上次執行是不同函式，removeEventListener 會失敗\nfunction closeDirection() {\n  filterModeDirection.value = false;\n}\n\n// 抓取鄉鎮資料\nonMounted(() => {\n  const getCountyCity = () =>\n    axios.get(\n      'https://raw.githubusercontent.com/donma/TaiwanAddressCityAreaRoadChineseEnglishJSON/master/CityCountyData.json'\n    );\n  const getTags = () => axios.get(`${process.env.VUE_APP_API_PATH}/tags`);\n  axios\n    .all([getCountyCity(), getTags()])\n    .then(\n      axios.spread((acct, perms) => {\n        countyCity.value = acct.data;\n\n        filterItem.value.tagList = Object.values(perms.data[0])\n          .reduce((acc, cur) => [...acc, ...cur], [])\n          .map((item) => {\n            return {\n              tag: item,\n              selected: false,\n            };\n          });\n      })\n    )\n    .catch((err) => console.error(err));\n});\n</script>\n","import script from \"./ListFilterComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ListFilterComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"py-20 md:py-34\">\n    <div class=\"container\">\n      <BreadCrumb class=\"mb-6\"></BreadCrumb>\n      <div class=\"-mx-3 mb-4 flex flex-col items-center gap-y-4 md:flex-row\">\n        <div\n          :class=\"[\n            'flex-grow px-3 transition-[top] duration-500 lg:static lg:w-1/3 lg:translate-x-0 xl:w-1/4',\n            { 'fixed left-1/2 z-20 -translate-x-1/2': scrollStatus !== 'top' },\n            { 'top-[72px]': scrollStatus === 'up' },\n            { 'top-8': scrollStatus === 'down' },\n          ]\"\n        >\n          <SearchBox\n            :class=\"[\n              'border lg:border-black',\n              scrollStatus !== 'top'\n                ? 'border-primary bg-transparent text-primary duration-300 focus-within:bg-white focus-within:text-black focus-within:drop-shadow-[0_0_8px_#408560] lg:focus-within:drop-shadow-none'\n                : 'border-black',\n            ]\"\n            ref=\"searchbox\"\n          ></SearchBox>\n        </div>\n        <div class=\"self-end px-3 text-right lg:w-2/3 xl:w-3/4\">\n          <select\n            name=\"sort\"\n            id=\"sort\"\n            class=\"cursor-pointer rounded border border-black py-2.5 px-4 focus:outline-none\"\n            v-model=\"sortMethod\"\n          >\n            <option value=\"id\">預設排序</option>\n            <option value=\"favorite\">人氣排序</option>\n            <option value=\"new\">最新排序</option>\n            <option value=\"random\">隨機排序</option>\n          </select>\n        </div>\n      </div>\n      <div class=\"-mx-3 flex flex-wrap justify-center\">\n        <aside class=\"w-full px-3 lg:w-1/3 xl:w-1/4\">\n          <ListFilter @filterParameter=\"filterResult\" ref=\"filter\"></ListFilter>\n        </aside>\n        <LoadingNormal\n          class=\"px-3 lg:w-2/3 xl:w-3/4\"\n          v-if=\"loadingShow\"\n        ></LoadingNormal>\n        <section\n          class=\"px-3 lg:w-2/3 xl:w-3/4\"\n          v-else-if=\"!loadingShow && hasResult\"\n        >\n          <ul class=\"-mx-2 mb-8 flex flex-wrap gap-y-4\">\n            <li\n              class=\"w-1/2 px-2 xl:w-1/3\"\n              v-for=\"(item, index) of showList.slice(0, 12 * currentPage)\"\n              :key=\"item.name\"\n            >\n              <CardMarked\n                :cardInfo=\"item\"\n                :delay=\"(index % 12) * 0.05\"\n              ></CardMarked>\n            </li>\n          </ul>\n          <div class=\"text-center\" v-show=\"currentPage < totalPage\">\n            <a\n              href=\"#\"\n              class=\"inline-block border border-black px-6 py-2 duration-300 hover:border-primary-dark hover:bg-primary-dark hover:text-primary-light\"\n              @click.prevent=\"currentPage++\"\n              >載入更多...({{ currentPage }} / {{ totalPage }})</a\n            >\n          </div>\n        </section>\n        <div class=\"px-3 text-center lg:w-2/3 xl:w-3/4\" v-else>\n          <font-awesome-icon\n            icon=\"fa-regular fa-face-sad-cry\"\n            class=\"my-4 text-4xl text-primary-dark md:text-[80px]\"\n          />\n          <h3 class=\"text-xl font-bold text-primary-dark md:text-3xl\">\n            沒有符合的搜尋結果，請重新搜尋\n          </h3>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport BreadCrumb from '@/components/BreadCrumbComponent';\nimport SearchBox from '@/components/SearchBoxComponent';\nimport ListFilter from '@/components/ListFilterComponent';\nimport CardMarked from '@/components/CardMarkedComponent';\nimport LoadingNormal from '@/components/LoadingNormalComponent';\nimport { ref, onMounted, watch, computed, inject } from 'vue';\nimport router from '@/router';\nimport { useRoute } from 'vue-router';\nimport { useStore } from '@/stores/index';\nimport axios from 'axios';\n\nconst loadingShow = ref(true);\nconst place = ref([]);\nconst currentPage = ref(1);\nconst sortMethod = ref('id');\nconst scrollStatus = inject('scrollStatus');\nconst route = useRoute();\nconst store = useStore();\nlet routeQuery = computed(() => route.query);\nconst filterParameter = ref({});\nconst searchbox = ref(null);\nconst filter = ref(null);\n\nconst showList = computed(() => {\n  let list = [...place.value];\n  if (!route.query.mode) {\n    if (store.filterMode === 'keyword') {\n      if (Object.entries(filterParameter.value).length > 0) {\n        // 清空 filterParameter 並清除篩選區已選擇的項目\n        filterResult({});\n        filter.value.clearFilter();\n      }\n      // 關鍵字搜尋\n      if (route.query.q) {\n        list = place.value.filter((item) =>\n          item.name.toLowerCase().includes(route.query.q.toLowerCase())\n        );\n      } else {\n        list = [...place.value];\n      }\n    } else if (\n      store.filterMode === 'filter' &&\n      Object.entries(filterParameter.value).length > 0\n    ) {\n      // 清空 searchbox\n      searchbox.value.clearInput();\n      // 條件篩選。2 種都沒選就不管，所以不用 else\n      if (typeof filterParameter.value.filterArea === 'string') {\n        // 下拉選單縣市鄉鎮篩選\n        list = place.value.filter((item) =>\n          item.county.includes(filterParameter.value.filterArea)\n        );\n      } else if (filterParameter.value.filterArea.length) {\n        // 區域篩選\n        list = place.value.filter((item) =>\n          filterParameter.value.filterArea.some((ele) =>\n            item.county.includes(ele)\n          )\n        );\n      }\n\n      if (filterParameter.value.filterTag.length > 0) {\n        if (!filterParameter.value.tagFilterMode) {\n          // 一般模式\n          list = list.filter((item) =>\n            filterParameter.value.filterTag.some(\n              (ele) => item.tags.indexOf(ele) > -1\n            )\n          );\n        } else {\n          //嚴格模式\n          list = list.filter((item) =>\n            filterParameter.value.filterTag.every(\n              (ele) => item.tags.indexOf(ele) > -1\n            )\n          );\n        }\n      }\n    }\n\n    switch (sortMethod.value) {\n      case 'favorite':\n        return list.sort((prev, next) => next.favorite - prev.favorite);\n      case 'new':\n        return list.sort((prev, next) => next.id - prev.id);\n      case 'random':\n        return list.sort(() => 0.5 - Math.random());\n      default:\n        return list;\n    }\n  } else {\n    // footer 連結跳轉處理\n    if (route.query.mode === 'area') {\n      const area = {\n        北部: ['臺北', '新北', '基隆', '桃園', '新竹', '宜蘭'],\n        中部: ['苗栗', '臺中', '彰化', '南投', '雲林'],\n        南部: ['嘉義', '臺南', '高雄', '屏東'],\n        東部: ['花蓮', '臺東'],\n        離島: ['連江', '金門', '澎湖'],\n      };\n      return list.filter((item) =>\n        area[route.query.area].some((ele) =>\n          item.county.includes(ele)\n        )\n      );\n    } else if (route.query.mode === 'tag') {\n      return list.filter(item => item.tags.includes(route.query.tag));\n    } else {\n      router.replace({ query: null });\n      return list;\n    }\n  }\n});\n\nconst hasResult = computed(() => showList.value.length > 0);\nconst totalPage = computed(() => Math.ceil(showList.value.length / 12));\n\n// 接收 filter 傳來的參數或要清空時呼叫\nfunction filterResult(filterObj) {\n  filterParameter.value = filterObj;\n}\n\nonMounted(() => {\n  axios\n    .get(`${process.env.VUE_APP_API_PATH}/campingPlace`)\n    .then((res) => {\n      place.value = res.data;\n      loadingShow.value = false;\n    })\n    .catch((err) => console.error(err));\n});\n\nwatch(routeQuery, () => {\n  currentPage.value = 1;\n});\n</script>\n","import script from \"./ListView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ListView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["route","useRoute","breadcrumb","ref","onMounted","value","meta","__exports__","store","useStore","cardInfo","delay","toRefs","props","image","imageLoaded","name","computed","slice","indexOf","mark","favorite","color","title","tags","length","now","Date","createTime","time","getTime","transitionDelay","onload","class","_hoisted_2","_createElementBlock","_hoisted_4","script","render","countyCity","filterStatus","filterModeDirection","scrollStatus","inject","filterItem","countySelect","townSelect","areaList","area","selected","tagList","tagFilterMode","filterSubmit","toggleFilterMode","router","query","filterParameter","filterArea","CityName","北部","中部","南部","東部","離島","reduce","acc","cur","filterTag","filter","item","map","ele","tag","emits","areaSelect","clearFilter","expose","townList","Array","from","AreaList","closeDirection","watch","newV","document","body","addEventListener","removeEventListener","toggleMask","getCountyCity","axios","getTags","then","acct","perms","data","Object","values","catch","err","console","error","loadingShow","place","currentPage","sortMethod","routeQuery","searchbox","showList","list","mode","some","county","includes","filterMode","entries","filterResult","q","toLowerCase","clearInput","every","sort","prev","next","id","Math","random","hasResult","totalPage","ceil","filterObj","res"],"sourceRoot":""}