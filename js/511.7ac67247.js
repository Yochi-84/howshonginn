"use strict";(self["webpackChunkhowshonginn"]=self["webpackChunkhowshonginn"]||[]).push([[511],{8924:function(e,n,a){a.d(n,{Z:function(){return g}});var l=a(6252),t=a(3577),i=a(2201),o=a(2262);const r={class:"flex gap-x-2"},s={key:1};var u={__name:"BreadCrumbComponent",setup(e){const n=(0,i.yj)(),a=(0,o.iH)([]);return(0,l.bv)((()=>{a.value=[...n.meta.breadcrumb]})),(e,n)=>{const i=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("ul",r,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.value,((e,n)=>((0,l.wg)(),(0,l.iD)("li",{class:(0,t.C_)({"before:mr-2 before:text-black before:content-[>] ":n>0}),key:e.name},[e.link?((0,l.wg)(),(0,l.j4)(i,{key:0,to:e.link,class:"text-primary-dark"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,t.zw)(e.name),1)])),_:2},1032,["to"])):((0,l.wg)(),(0,l.iD)("span",s,(0,t.zw)(e.name),1))],2)))),128))])}}};const c=u;var g=c},6240:function(e,n,a){a.r(n),a.d(n,{default:function(){return Y}});var l=a(6252),t=a(2262),i=a(3577),o=a(9963),r=a(8924),s=a(3370),u=a(2062),c=a(3972),g=a(409),p=a(6493),d=a(9992),m=a(3621),v=a(9669),f=a.n(v),x=a(9957);const h=e=>((0,l.dD)("data-v-76c9813e"),e=e(),(0,l.Cn)(),e),b={class:"overflow-x-hidden py-20 md:pt-34 md:pb-20"},w={class:"container"},y={class:"mb-8 flex w-full items-center justify-center"},k={class:"hidden md:inline"},_={class:"relative"},C={class:"ml-2 font-mono text-xl font-bold uppercase text-secondary-dark md:text-2xl"},D=h((()=>(0,l._)("div",{class:"mb-6 border-b-8 border-double border-b-primary-dark"},null,-1))),H={class:"flex items-center justify-center gap-x-6 px-3"},j=h((()=>(0,l._)("span",{class:"inline xl:hidden"},"上一步",-1))),z=h((()=>(0,l._)("span",{class:"inline xl:hidden"},"下一步",-1))),P=["onClick"],Z=h((()=>(0,l._)("span",{class:"inline lg:hidden"},"完成",-1))),I={class:"z-5 text-3xl font-bold tracking-widest text-primary-dark md:text-4xl"};var S={__name:"ShareView",setup(e){const n=(0,t.iH)(!1),a=(0,t.iH)(""),v=(0,t.iH)(0),h=(0,t.iH)(0),S=(0,t.iH)([{name:"營地資訊",english:"Information",icon:"flag",active:!0},{name:"營地照片",english:"Pictures",icon:"images",active:!1},{name:"特色標籤",english:"Tags",icon:"tags",active:!1},{name:"畫面預覽",english:"Preview",icon:"display",active:!1}]),T=(0,t.iH)("left"),W=[u.Z,c.Z,g.Z,p.Z];function Y(e){T.value=e>v.value?"left":"right",S.value[v.value].active=!1,v.value=e,S.value[v.value].active=!0,window.scrollTo(0,80)}function A(e){T.value=e?"left":"right",S.value[v.value].active=!1,e?v.value+=1:v.value-=1,S.value[v.value].active=!0,h.value=e?v.value:h.value,window.scrollTo(0,80)}function F(){let e={info:"",type:"warning",bgColor:"#D28226"};""===Q.value.name?e.info="營地名稱不可空白":""===Q.value.address?e.info="營地地址不可為空白":"undefined"===Q.value.county?e.info="營地所在區域不可為空白":""===Q.value.intro?e.info="營地簡介不可為空白":Q.value.address.includes(Q.value.county)||(e.info="地址與所在區域似乎不符合!請再次確認",e.type="danger",e.bgColor="#D28226"),""!==e.info?(Y(0),(0,m.Yz)({title:"溫馨提醒",description:e.info},{type:e.type,position:"top-center",timeout:3e3,toastBackgroundColor:e.bgColor,showIcon:"true",transition:"zoom"})):(n.value=!0,q())}const M=(0,t.iH)({}),U=(0,t.iH)(["init_pic.jpg"]),$=(0,t.iH)([]),B=(0,t.iH)([]);function O(e){M.value=e}function E(e){let n=[...e];n.length||n.push("init_pic.jpg"),U.value=[...e]}function K(e){$.value=[...e]}function L(e){B.value=[...e]}const Q=(0,l.Fl)((()=>({...M.value,tags:[...B.value],image:[...U.value],originPicture:[...$.value]})));async function q(){let e=!0,n=!0;const l={...Q.value};let t=[];if(l.originPicture.length>0){const n={method:"POST",url:"https://api.imgur.com/3/image",headers:{Authorization:"Bearer e3b8e719f5e3d08a7b9e75c7355dde23019bf3f5"}},i=[];for(let e=0;e<l.originPicture.length;e++){let a=new FormData;a.append("image",l.originPicture[e]),a.append("type","file"),a.append("title",l.name),a.append("album","0sbPdt7");let t={...n};t.data=a,i.push(t)}a.value="圖片上傳中...";for(let a of i)await f()(a).then((e=>{t.push(e.data.data.link)})).catch((()=>e=!1));t.length?l.image=t:l.image=["init_pic.jpg"]}delete l.originPicture;const i=new Date;l.createTime=`${i.getFullYear()}/${i.getMonth()+1}/${i.getDate()} ${i.getHours()}:${i.getMinutes()}`,a.value="資料上傳中...",await f().post("https://8ojgh9.deta.dev/campingPlace",l).then((e=>e)).catch((()=>{n=!1})).finally((()=>{let a={info:"",type:"warning",bgColor:"#408560"};n?n&&!e?(a.info="新增營地成功，但是圖片上傳有可能失敗了 QAQ",a.type="warning",a.bgColor="#D28226"):(a.info="新增營地成功",a.type="success",a.bgColor="#408560"):(a.info="新增失敗!!可能哪裡出了問題",a.type="danger",a.bgColor="#A31C3D"),x.Z.push({name:"home"}),(0,m.Yz)({title:"溫馨提醒",description:a.info},{type:a.type,position:"top-center",timeout:3e3,toastBackgroundColor:a.bgColor,showIcon:"true",transition:"zoom"})}))}return(e,u)=>{const c=(0,l.up)("font-awesome-icon");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",b,[(0,l._)("div",w,[(0,l.Wm)((0,t.SU)(r.Z),{class:"mb-6"}),(0,l._)("ul",y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(S.value,((e,n)=>((0,l.wg)(),(0,l.j4)((0,t.SU)(s.Z),{key:e.name,isActive:e.active,stepIndex:n,isEnd:n===S.value.length-1,maxStep:h.value,onJumpToStep:Y},{icon:(0,l.w5)((()=>[(0,l.Wm)(c,{icon:["fa-solid","fa-"+e.icon],class:"md:mb-2"},null,8,["icon"])])),name:(0,l.w5)((()=>[(0,l._)("span",k,(0,i.zw)(e.name),1)])),_:2},1032,["isActive","stepIndex","isEnd","maxStep"])))),128))]),(0,l._)("section",_,[(0,l.Wm)(o.uT,{name:T.value,mode:"out-in"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)("h2",{class:"mb-2 text-center text-2xl font-bold text-primary-dark md:text-3xl",key:S.value[v.value].name},[(0,l.Wm)(c,{icon:["fa-solid","fa-"+S.value[v.value].icon],class:"mr-4"},null,8,["icon"]),(0,l._)("span",null,(0,i.zw)(S.value[v.value].name),1),(0,l._)("span",C,(0,i.zw)(S.value[v.value].english),1)]))])),_:1},8,["name"]),D,(0,l.Wm)(o.uT,{name:T.value,mode:"out-in"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)(l.Ob,null,[((0,l.wg)(),(0,l.j4)((0,l.LL)(W[v.value]),{class:"mb-10",onCampInfo:O,onCampPicture:E,onCampPictureOrigin:K,onCampTags:L,previewInfo:(0,t.SU)(Q)},null,40,["previewInfo"]))],1024))])),_:1},8,["name"]),(0,l._)("div",H,[(0,l._)("a",{href:"#",class:(0,i.C_)(["btn btn-danger lg:btn-large xl:btn-circle group xl:absolute xl:left-0 xl:top-72 xl:h-18 xl:w-18 xl:text-2xl xl:ring-2 xl:ring-danger-dark",{"invisible opacity-0":0===v.value}]),onClick:u[0]||(u[0]=(0,o.iM)((e=>A(!1)),["prevent"]))},[(0,l.Wm)(c,{icon:"fa-solid fa-angles-left",class:"mr-2 group-hover:animate-left xl:mr-0"}),j],2),(0,l.wy)((0,l._)("a",{href:"#",class:"btn btn-primary lg:btn-large xl:btn-circle group xl:absolute xl:top-72 xl:right-0 xl:h-18 xl:w-18 xl:text-2xl xl:ring-2 xl:ring-primary-dark",onClick:u[1]||(u[1]=(0,o.iM)((e=>A(!0)),["prevent"]))},[z,(0,l.Wm)(c,{icon:"fa-solid fa-angles-right",class:"ml-2 group-hover:animate-right xl:ml-0"})],512),[[o.F8,v.value!==S.value.length-1]]),(0,l.wy)((0,l._)("a",{href:"#",class:"btn btn-secondary lg:btn-large xl:btn-circle group xl:absolute xl:right-0 xl:top-72 xl:h-18 xl:w-18 xl:text-2xl xl:ring-2 xl:ring-secondary-dark",onClick:(0,o.iM)(F,["prevent"])},[Z,(0,l.Wm)(c,{icon:"fa-solid fa-check",class:"ml-2 group-hover:animate-pulse lg:ml-0"})],8,P),[[o.F8,v.value===S.value.length-1]])])])])]),n.value?((0,l.wg)(),(0,l.j4)((0,t.SU)(d.Z),{key:0,bgOpacity:"0.7"},{title:(0,l.w5)((()=>[(0,l._)("h2",I,(0,i.zw)(a.value),1)])),_:1})):(0,l.kq)("",!0)],64)}}},T=a(3744);const W=(0,T.Z)(S,[["__scopeId","data-v-76c9813e"]]);var Y=W}}]);
//# sourceMappingURL=511.7ac67247.js.map